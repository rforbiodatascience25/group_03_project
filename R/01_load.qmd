---
title: "Exam - Load Data: Group 03"
format:
  html:
    embed-resources: true
editor: visual
author: Mei Lin Verghese Law Kung Sam(s194685), Thelma Urena(s242552), Alejandra Caballero(s231912),Marco Bonafede(s243247), Carlos Sainz(s253695)
execute:
  warning: false
---

## Loading Libraries

```{r}
library(GEOquery)
library(tidyverse)
library(stringr)
```

## Loading Expression, Phenotypes and Features Data

Downloading of all the data we need.

```{r}

gse <- getGEO("GSE54514", GSEMatrix = TRUE)

# If multiple platforms, take the first one
gse <- gse[[1]]

# Inspect
exprs_data <- exprs(gse)
pheno_data <- pData(gse)
feature_data <- fData(gse)

```

## Load Platform

```{r}
platform_raw <- getGEO(gse@annotation)
platform_table = platform_raw@dataTable@table

directory = getwd()
if (str_sub(directory,-1) == 'R'){
  directory = str_sub(directory,1,-3)
}

write_tsv(x = platform_table, 
          file = file.path(directory,'data/platform_table.tsv'))

```
